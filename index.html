<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>Chrobry RPG â€” emoji</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <canvas id="canvas"></canvas>
  <div id="ui">
    <header>
      <div class="hud-compact">
        <div class="pill" style="flex-shrink:0">ğŸ° <strong>Chrobry</strong></div>
        <div class="hud-stats">
          <div class="pill" style="min-width:0; flex:1">
            <span>â¤ï¸</span>
            <div class="bar" style="margin-left:4px; margin-right:4px"><div id="hpFill" style="width:100%"></div></div>
            <span id="hpNum" class="small">0/0</span>
          </div>
          <div class="pill" style="min-width:0; flex:1">
            <span>ğŸ”·</span>
            <div class="bar blue" style="margin-left:4px; margin-right:4px"><div id="mpFill" style="width:100%"></div></div>
            <span id="mpNum" class="small">0/0</span>
          </div>
          <div class="pill" style="min-width:0; flex:1">
            <span>â­</span>
            <div class="bar purple" style="margin-left:4px; margin-right:4px"><div id="xpFill" style="width:0%"></div></div>
            <span id="xpNum" class="small">0/100</span>
            <span class="small" style="margin-left:4px">L<span id="lvlNum">1</span></span>
          </div>
        </div>
      </div>
      <div class="mobile-buttons">
        <div class="pill">ğŸ’° <span id="gold">0</span></div>
        <div class="pill btn-icon" id="questBtn" title="Questy (Q)">ğŸ“œ</div>
        <div class="pill btn-icon" id="inventoryBtn" title="Inventory (E)">ğŸ’</div>
        <div class="pill btn-icon" id="statsBtn" title="Statystyki (R)">ğŸ“Š</div>
        <div class="pill btn-icon" id="saveBtn" title="Zapisz">ğŸ’¾</div>
      </div>
    </header>
    <footer>
      <div class="pill small">Sterowanie: WASD/StrzaÅ‚ki - ruch | Spacja - atak | KlikniÄ™cie - strzaÅ‚</div>
    </footer>
  </div>

  <!-- Modal level-up -->
  <div class="modal" id="levelUpModal">
    <div class="panel">
      <h1>ğŸ›¡ï¸ Awans na poziom <span id="lvlUpTo">2</span></h1>
      <div class="pill" style="margin-bottom:16px; font-size:16px; font-weight:bold; background:rgba(76,222,128,0.2); border-color:rgba(76,222,128,0.4);">
        â­ Punkty do wykorzystania: <span id="levelUpPoints">1</span>
      </div>
      <div style="display:flex; flex-direction:column; gap:8px;">
        <button class="btn" id="upHP" style="justify-content:space-between; text-align:left;">
          <span>â¤ï¸ Maks. HP</span>
          <span class="small" id="upHPValue">100</span>
        </button>
        <button class="btn" id="upMP" style="justify-content:space-between; text-align:left;">
          <span>ğŸ”· Maks. Mana</span>
          <span class="small" id="upMPValue">50</span>
        </button>
        <button class="btn" id="upSpeed" style="justify-content:space-between; text-align:left;">
          <span>ğŸƒ PrÄ™dkoÅ›Ä‡ ruchu</span>
          <span class="small" id="upSpeedValue">2.8</span>
        </button>
        <button class="btn" id="upMeleeSpeed" style="justify-content:space-between; text-align:left;">
          <span>âš”ï¸ PrÄ™dkoÅ›Ä‡ ataku wrÄ™cz</span>
          <span class="small" id="upMeleeSpeedValue">400ms</span>
        </button>
        <button class="btn" id="upMeleeDmg" style="justify-content:space-between; text-align:left;">
          <span>ğŸ—¡ï¸ SiÅ‚a ataku wrÄ™cz</span>
          <span class="small" id="upMeleeDmgValue">18</span>
        </button>
        <button class="btn" id="upRangedSpeed" style="justify-content:space-between; text-align:left;">
          <span>ğŸ¹ PrÄ™dkoÅ›Ä‡ ataku projectile</span>
          <span class="small" id="upRangedSpeedValue">300ms</span>
        </button>
        <button class="btn" id="upRangedDmg" style="justify-content:space-between; text-align:left;">
          <span>ğŸ’¥ SiÅ‚a ataku projectile</span>
          <span class="small" id="upRangedDmgValue">16</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Modal Quest Log -->
  <div class="modal" id="questModal">
    <div class="panel">
      <h1>ğŸ“œ Quest Log</h1>
      <div style="margin-bottom:12px">
        <div class="pill" style="margin-bottom:8px">
          <strong>1. ZasadÅº drzewo</strong>
          <span id="quest1Status" style="margin-left:8px; color:#4ade80">âœ“ UkoÅ„czone</span>
        </div>
        <div class="pill" style="margin-bottom:8px">
          <strong>2. SpÅ‚odÅº syna</strong>
          <span id="quest2Status" style="margin-left:8px; color:#4ade80">âœ“ UkoÅ„czone</span>
        </div>
        <div class="pill">
          <strong>3. Napisz ksiÄ…Å¼kÄ™</strong>
          <span id="quest3Status" style="margin-left:8px; color:#4ade80">âœ“ UkoÅ„czone</span>
        </div>
      </div>
      <button class="btn" id="closeQuestBtn">Zamknij</button>
    </div>
  </div>

  <!-- Modal Inventory -->
  <div class="modal" id="inventoryModal">
    <div class="panel">
      <h1>ğŸ’ Inventory</h1>
      <div style="margin-bottom:12px">
        <div class="pill" style="margin-bottom:8px; cursor:pointer" id="invAppleClick">ğŸ JabÅ‚ka: <span id="invApples">0</span> (kliknij aby zjeÅ›Ä‡)</div>
        <div class="pill" style="margin-bottom:8px; cursor:pointer" id="invMeatClick">ğŸ– MiÄ™so: <span id="invMeat">0</span> (kliknij aby zjeÅ›Ä‡)</div>
        <div class="pill" style="margin-bottom:8px; cursor:pointer" id="invMeadClick">ğŸ¾ Flaszka: <span id="invMead">0</span> (kliknij aby wypiÄ‡)</div>
        <div class="pill" style="cursor:pointer" id="invSeedClick">ğŸŒ± Nasiona: <span id="invSeeds">0</span> (kliknij aby aktywowaÄ‡ zasadzanie)</div>
      </div>
      <div id="plantingModeIndicator" style="margin-bottom:12px; display:none; color:#4ade80; font-weight:bold">ğŸŒ± Tryb zasadzania aktywny - kliknij na mapie aby zasadziÄ‡ drzewo</div>
      <button class="btn" id="closeInventoryBtn">Zamknij</button>
    </div>
  </div>

  <!-- Modal Character Stats -->
  <div class="modal" id="statsModal">
    <div class="panel">
      <h1>ğŸ“Š Karta Postaci</h1>
      <div style="margin-bottom:12px">
        <div class="pill" style="margin-bottom:8px">â¤ï¸ HP: <span id="statsHP">0</span>/<span id="statsHPMax">0</span></div>
        <div class="pill" style="margin-bottom:8px">ğŸ”· Mana: <span id="statsMP">0</span>/<span id="statsMPMax">0</span></div>
        <div class="pill" style="margin-bottom:8px">â­ Poziom: <span id="statsLevel">1</span></div>
        <div class="pill" style="margin-bottom:8px">ğŸƒ PrÄ™dkoÅ›Ä‡: <span id="statsSpeed">0</span></div>
        <div class="pill" style="margin-bottom:8px">âš”ï¸ CD Miecz: <span id="statsMeleeCD">0</span>ms</div>
        <div class="pill" style="margin-bottom:8px">ğŸ—¡ï¸ SiÅ‚a Miecz: <span id="statsMeleeDmg">0</span></div>
        <div class="pill" style="margin-bottom:8px">ğŸ¹ CD StrzaÅ‚a: <span id="statsRangedCD">0</span>ms</div>
        <div class="pill">ğŸ’¥ SiÅ‚a StrzaÅ‚a: <span id="statsRangedDmg">0</span></div>
      </div>
      <button class="btn" id="closeStatsBtn">Zamknij</button>
    </div>
  </div>

  <!-- Modal Woman Dialog -->
  <div class="modal" id="womanModal">
    <div class="panel">
      <h1>ğŸ‘© Kobieta</h1>
      <p style="margin:12px 0">Aby spÅ‚odziÄ‡ syna, musisz mi daÄ‡ 50 jabÅ‚ek i 50 miÄ™sa.</p>
      <div class="row" style="margin:12px 0">
        <div class="pill">ğŸ JabÅ‚ka: <span id="womanApples">0</span>/50</div>
        <div class="pill">ğŸ– MiÄ™so: <span id="womanMeat">0</span>/50</div>
      </div>
      <div class="row">
        <button class="btn" id="giveAppleBtn">ğŸ Daj jabÅ‚ko (1)</button>
        <button class="btn" id="giveMeatBtn">ğŸ– Daj miÄ™so (1)</button>
        <button class="btn" id="closeWomanBtn">Zamknij</button>
      </div>
    </div>
  </div>

  <!-- Modal Wizard Dialog -->
  <div class="modal" id="wizardModal">
    <div class="panel">
      <h1>ğŸ§™ Czarodziej</h1>
      <p style="margin:12px 0">Aby napisaÄ‡ ksiÄ…Å¼kÄ™, potrzebujÄ™ 100 miÄ™sa, 100 jabÅ‚ek i 100 monet.</p>
      <div class="row" style="margin:12px 0">
        <div class="pill">ğŸ– MiÄ™so: <span id="wizardMeat">0</span>/100</div>
        <div class="pill">ğŸ JabÅ‚ka: <span id="wizardApples">0</span>/100</div>
        <div class="pill">ğŸ’° Monety: <span id="wizardGold">0</span>/100</div>
      </div>
      <div class="row">
        <button class="btn" id="wizardGiveMeatBtn">ğŸ– Daj miÄ™so (1)</button>
        <button class="btn" id="wizardGiveAppleBtn">ğŸ Daj jabÅ‚ko (1)</button>
        <button class="btn" id="wizardGiveGoldBtn">ğŸ’° Daj monetÄ™ (1)</button>
      </div>
      <div class="row" style="margin-top:10px">
        <button class="btn" id="wizardCompleteBtn">ğŸ“– Napisz ksiÄ…Å¼kÄ™</button>
        <button class="btn" id="closeWizardBtn">Zamknij</button>
      </div>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>

